<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="btn">btn</div>

    <script>

        let btn = document.querySelector('.btn')
        btn.addEventListener('click', () => {
            let isCircle = false
            let barriers = []

            let points = dataHandler(d)
            let len = points.length
            debugger
            for (let i = 0; i < len; i++) {
                let { lat: fromLat, lng: fromLng } = points[i]
                let j = i + 1

                let obj = {
                    a_lat: fromLat,
                    a_lng: fromLng,
                    a_cross: 0,
                }

                let nextObj = points[j]
                if (nextObj) {
                    let { lat: toLat, lng: toLng } = nextObj
                    obj['b_lat'] = toLat
                    obj['b_lng'] = toLng
                    obj['b_cross'] = 0
                } else {
                    if (isCircle) {
                        barriers.push(Object.assign({}, obj, {
                            b_lat: points[0].lat,
                            b_lng: points[0].lng,
                            b_cross: 0,
                        }))
                    }
                    continue
                }
                barriers.push(obj)
            }
            console.log(barriers);
        })






        let d = [
            [45.465502545328484, 12.380750630072914],
            [45.464786681243176, 12.342780418304475],
            [45.43872304074895, 12.298890119754937],
            [45.42582997652895, 12.304810206536036]
        ]



        let points = [
            // {
            //     "lat": 20.601913388367247,
            //     "lng": -86.71756081445311
            // }
        ]


        function dataHandler(d) {
            points = []

            for(let item of d){
                points.push({
                    lat:item[0],
                    lng:item[1],
                }) 
            }
            return points
        }


    </script>



</body>

</html>