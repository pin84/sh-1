<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="btn">btn</div>
    <script>

        let btn = document.querySelector('.btn')
        btn.addEventListener('click', () => {
            let isCircle = false
            let barriers = []
            let points = []
            for (let item of d) {
                points.push({
                    lat: item[0],
                    lng: item[1],
                })
            }
            let len = points.length
            for (let i = 0; i < len; i++) {
                let { lat: fromLat, lng: fromLng } = points[i]
                let j = i + 1
                let obj = {
                    a_lat: fromLat,
                    a_lng: fromLng,
                    a_cross: 0,
                }
                let nextObj = points[j]
                if (nextObj) {
                    let { lat: toLat, lng: toLng } = nextObj
                    obj['b_lat'] = toLat
                    obj['b_lng'] = toLng
                    obj['b_cross'] = 0
                } else {
                    if (isCircle) {
                        barriers.push(Object.assign({}, obj, {
                            b_lat: points[0].lat,
                            b_lng: points[0].lng,
                            b_cross: 0,
                        }))
                    }
                    continue
                }
                barriers.push(obj)
            }
            console.log(barriers);
        })


        let d = [
            [39.32177105510385, -75.39543447515226],
            [38.217131086342434, -74.56339099712956]
        ]

    </script>
</body>
</html>