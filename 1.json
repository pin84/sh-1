
// smart pricing pilot

create table spp_route 
(
    id            int unsigned auto_increment primary key,
    from               varchar(256)                  null,
    to                 varchar(256)                   null,
    vehicle_class_id   tinyint unsigned                    null,
    cost           decimal(10,2)                        null,
    profit           decimal(10,2)                        null,
    inserted_at        timestamp default CURRENT_TIMESTAMP not null,
    last_updated_at    timestamp default CURRENT_TIMESTAMP not null on update 

)
// (price - cost) / price  * 100 = profit
// WRONG : cost + cost * profit =  price
create table spp_service_area_capacity
(
    id            int unsigned auto_increment primary key,
    service_area_id               int                 null,
    capacity                 int                   null,
    inserted_at        timestamp default CURRENT_TIMESTAMP not null,
    last_updated_at    timestamp default CURRENT_TIMESTAMP not null on update 
)

create table spp_price_adj
(
    id            int unsigned auto_increment primary key,
    price           decimal(10,2)                        null,
    rate_by_human           tinyint                        null,
    rate_by_computer           tinyint                        null,
    route_id      int unsigned                       null,
    inserted_at        timestamp default CURRENT_TIMESTAMP not null,
    last_updated_at    timestamp default CURRENT_TIMESTAMP not null on update 

    constraint route_id_1  foreign key (route_id) references route (id),
)


create table cost
(
    id            int unsigned auto_increment primary key,
    routes_id      int unsigned                       null,
    cost           decimal(10,2)                        null,
    profit           decimal(10,2)                        null,
    // target_type         tinyint(1)                          null
    is_effective         tinyint(1)                          null,
    inserted_at        timestamp default CURRENT_TIMESTAMP not null,
    last_updated_at    timestamp default CURRENT_TIMESTAMP not null on update 


    constraint routes_id_1  foreign key (routes_id) references routes (id),
)

//设置目标是整个服务区的，单条路线能不能判断有没有达到目标？


















































create table ride
(
    id                 int unsigned auto_increment primary key,
    cost               decimal(10,2)                        null,
    target_type         tinyint(1)                          null

    partner_tran_id    int unsigned                        null,
    airport_code3      char(3)                             null,
    from_place_id      mediumint unsigned                  null,
    from_utc           int unsigned                        null,
    from_time_str      varchar(16)                         null,
    from_timezone_str  varchar(64)                         null,
    from_daylight      tinyint(1)                          null,
    to_place_id        mediumint unsigned                  null,
    to_utc             int unsigned                        null,
    to_time_str        varchar(16)                         null,
    to_timezone_str    varchar(64)                         null,
    to_daylight        tinyint(1)                          null,
    passenger_id       int unsigned                        null,
    distance           mediumint unsigned                  null,
    duration           mediumint unsigned                  null,
    vehicle_class_id   tinyint unsigned                    null,
    passenger_count    tinyint unsigned                    null,
    luggage_count      tinyint unsigned                    null,
    trip_count         tinyint unsigned                    null,
    meet_n_greet       tinyint(1)                          null,
    inserted_at        timestamp default CURRENT_TIMESTAMP not null,
    last_updated_at    timestamp default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP,
    dispatch_fleet_id  int unsigned                        null,
    driver_sign        varchar(1024)                       null,
    driver_instruction varchar(2048)                       null,
    from_flight_sch    int unsigned                        null,
    from_flight_str    varchar(256)                        null,
    to_flight_sch      int unsigned                        null,
    to_flight_str      varchar(256)                        null,
    children_count     tinyint unsigned                    null,
    infant_count       tinyint unsigned                    null,
    service_area_id    int unsigned                        null,
    vip                tinyint unsigned                    null,

);


