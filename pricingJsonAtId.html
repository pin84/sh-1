<!DOCTYPE html>
<html lang="en">


<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <style>
    .box {
      width: 100%;
      display: flex;


    }

    .textarea-1,
    .textarea-2 {
      width: 100%;
      border: 1px solid red;
    }
  </style>
</head>

<body>

  <!-- <div class="box">
    <textarea name="" id="textarea-1" cols="50" rows="10"></textarea>
    <textarea name="" id="textarea-2" cols="50" rows="10"></textarea>
  </div> -->
  <div id='btn' class="btn">BTN</div>




  <script>
    let btn = document.getElementById('btn')



    let diffChangeOrDelete = []
    let diffAdd = []
    btn.addEventListener('click', async () => {

      let ignoreKeys = ['amount', 'min_amount']
      let pricingJson = {
        "currencyCode": "CNY1",
        "serviceArea": {
          "name": "nanning1",
          "lat": 22.791353405922795,
          "lng": 108.25311325248032,
          "radius": 50000,
          "parent_fleet_id": 27672,
          "id": 28095,
          // "parent_fleet_name": "3_elife"
        },
        "airports": [
          'aa', "NNG",
        ],
        // "countryCode": "CHN",
        // "pricing": {
        //   "ranges": [
        //     {
        //       "seq": 0,
        //       "amount": 8.21,
        //       "currency": "USD",
        //       "distance": 1000,
        //       "from": 1000,
        //       "to": 2000,
        //       "distanceIn": 0,
        //       "per_unit": 1
        //     }
        //   ],
        //   "currency": "USD",
        //   "min_amount": 25.88,
        //   "min_distance": 1000,
        //   "meet_n_greet": 999
        // },
        // "vehicleClasses": [
        //   {
        //     "vehicle_class_id": 1,
        //     "delta_amount": 0,
        //     "percent": 0,
        //     "hourly_percent": 0,
        //     "hourly_delta": 0,
        //     "surcharge_schedule": [
        //       [
        //         {
        //           "from": "00:00",
        //           "to": "02:00",
        //           "break": "false",
        //           "percent": 968,
        //           "ts": 1712809373016
        //         }
        //       ],
        //       [
        //         {
        //           "from": "00:00",
        //           "to": "02:00",
        //           "break": "false",
        //           "percent": 968,
        //           "ts": 1712809373016
        //         }
        //       ],
        //       [
        //         {
        //           "from": "00:00",
        //           "to": "02:00",
        //           "break": "false",
        //           "percent": 968,
        //           "ts": 1712809373016
        //         }
        //       ],
        //       "null",
        //       "null",
        //       "null",
        //       "null"
        //     ],
        //     "percent_appendix": [
        //       {
        //         "field": "pricing.ranges.0",
        //         "delta_amount": -7.21
        //       }
        //     ]
        //   },
        //   {
        //     "vehicle_class_id": 12,
        //     "delta_amount": 0,
        //     "percent": 2,
        //     "hourly_percent": 2,
        //     "hourly_delta": 0,
        //     "percent_appendix": [
        //       {
        //         "field": "hourly_pricing.rules.0.min_amount",
        //         "delta_amount": 1324.99
        //       },
        //       {
        //         "field": "pricing.min_amount",
        //         "delta_amount": -24.68
        //       },
        //       {
        //         "field": "pricing.ranges.0",
        //         "delta_amount": 213.79
        //       },
        //       {
        //         "field": "zones.0.prices.0.p_amt",
        //         "delta_amount": -4.61
        //       },
        //       {
        //         "field": "zones.0.prices.0.d_amt",
        //         "delta_amount": -12.88
        //       },
        //       {
        //         "field": "zones.1.prices.0.p_amt",
        //         "delta_amount": -11.68
        //       },
        //       {
        //         "field": "zones.1.prices.0.d_amt",
        //         "delta_amount": -18.68
        //       }
        //     ]
        //   }
        // ],
        // "date_surcharge_method": "sum",
        // "downtown_areas": {
        //   "area_geometry": [
        //     {
        //       "lat": 23.01725052231879,
        //       "lng": 106.81734911796875
        //     },
        //     {
        //       "lat": 23.38746667128864,
        //       "lng": 107.05917040703125
        //     },
        //     {
        //       "lat": 23.427795359137434,
        //       "lng": 107.51534716484375
        //     },
        //     {
        //       "lat": 23.38664313295705,
        //       "lng": 107.603298825
        //     },
        //     {
        //       "lat": 23.022306265279664,
        //       "lng": 107.66927782890625
        //     },
        //     {
        //       "lat": 22.692015395854128,
        //       "lng": 107.63070361015625
        //     },
        //     {
        //       "lat": 22.651465812901023,
        //       "lng": 107.09212939140625
        //     }
        //   ],
        //   "ranges": [
        //     {
        //       "seq": 0,
        //       "amount": 8.21,
        //       "currency": "USD",
        //       "distance": 1000000,
        //       "from": 1000000,
        //       "to": 2000000,
        //       "distanceIn": 0,
        //       "per_unit": 1
        //     }
        //   ],
        //   "currency": "USD",
        //   "min_amount": 862.55,
        //   "min_distance": 1000000
        // },
        // "hourly_pricing": {
        //   "rules": [
        //     {
        //       "io": 1,
        //       "name": "Rule 1",
        //       "currency": "COP",
        //       "min_amount": 8.21,
        //       "min_duration": 1,
        //       "max_distance": 100,
        //       "zones": [
        //         "serviceArea"
        //       ],
        //       "ranges": [
        //         {
        //           "seq": 0,
        //           "amount": 25.88,
        //           "currency": "USD",
        //           "duration": 1,
        //           "from": 1,
        //           "to": 2
        //         }
        //       ]
        //     },
        //     {
        //       "io": 0,
        //       "name": "Rule 2",
        //       "currency": "COP",
        //       "max_distance": 200,
        //       "min_amount": 17.68,
        //       "min_duration": 1,
        //       "ranges": [
        //         {
        //           "seq": 0,
        //           "amount": 17.68,
        //           "currency": "USD",
        //           "duration": 1,
        //           "from": 1,
        //           "to": 2
        //         }
        //       ],
        //       "zones": [
        //         "serviceArea"
        //       ]
        //     }
        //   ],
        //   "currency": "USD"
        // },
        // "notice_time_rules": [
        //   {
        //     "zones": [
        //       "serviceArea"
        //     ],
        //     "ps": [
        //       {
        //         "vc_ids": [
        //           1
        //         ],
        //         "notice_time": [
        //           {
        //             "percent": 46,
        //             "time": 1440
        //           }
        //         ],
        //         "allowance": 1200
        //       }
        //     ]
        //   }
        // ],
        // "pricing_schedule_sum": [
        //   {
        //     "notice_time_hint": [
        //       [
        //         {
        //           "from": "00:00",
        //           "to": "02:00",
        //           "break": "false",
        //           "percent": 968,
        //           "ts": 1712809373016
        //         }
        //       ],
        //       [
        //         {
        //           "from": "00:00",
        //           "to": "02:00",
        //           "break": "false",
        //           "percent": 968,
        //           "ts": 1712809373016
        //         }
        //       ],
        //       [
        //         {
        //           "from": "00:00",
        //           "to": "02:00",
        //           "break": "false",
        //           "percent": 968,
        //           "ts": 1712809373016
        //         }
        //       ],
        //       "null",
        //       "null",
        //       "null",
        //       "null"
        //     ],
        //     "vehicles": [
        //       1
        //     ]
        //   }
        // ],
        // "specific_date_surcharge": [
        //   {
        //     "from_date": "2024-04-16",
        //     "to_date": "2024-04-24",
        //     "currency": "USDa",
        //     "vehicle_classes": [
        //       {
        //         "vehicle_class_ids": [
        //           1
        //         ],
        //         "percent": 0,
        //         "delta_amount": 1
        //       }
        //     ],
        //     "zones": [
        //       "serviceArea"
        //     ],
        //     "name": "Rule 1"
        //   }
        // ],
        // "add_service": {
        //   "is_p": 32.74,
        //   "ts_p": 8.21
        // },
        // "tz": {
        //   "dos": 0,
        //   "ros": 28800,
        //   "tzid": "Asia/Shanghai"
        // },
        // "zone2zone": {
        //   "mac": 0,
        //   "prices": [
        //     {
        //       "name": "NNG-市区",
        //       "from_zone": "NNG机场",
        //       "to_zone": "市区",
        //       "amount": 25.88,
        //       "reverse": 45
        //     }
        //   ]
        // },
        "zones": [
        {
            "lat": 22.540494629220326,
            "lng": 109.15117637304155,
            "name": "市区",
            "p2p": "false",
            "prices": [
              {
                "airport": "NNG",
                "p_amt": 17.68,
                "d_amt": 25.88,
                "currency": "USD",
                "amount": 2.4
              }
            ],
            "radius": 16666.666666666668
          },
          {
            "lat": 23.180706677963947,
            "lng": 107.5692143266991,
            "name": "NNG机场",
            "p2p": "true",
            "prices": [
              {
                "airport": "NNG",
                "p_amt": 8.21,
                "d_amt": 17.68,
                "currency": "USD",
                "amount": 1.2
              }
            ],
            "radius": 0,
            "polygons": [
              {
                "lat": 23.1453894174652,
                "lng": 107.29705856498035
              },
              {
                "lat": 23.36774707465213,
                "lng": 107.58831833060535
              },
              {
                "lat": 23.440844658426546,
                "lng": 107.80828903373035
              },
              {
                "lat": 23.17064214492708,
                "lng": 107.84137008841785
              },
              {
                "lat": 22.920568697501345,
                "lng": 107.73687790091785
              },
              {
                "lat": 22.93574621190943,
                "lng": 107.50592086966785
              }
            ],
            "p2p_t": "NNG.p"
          },
      
        ],
        // "service_area_pricing_id": 5663,
        // "req_id": "0f3bae6d-875c-4c57-8f02-17cd059b991b"
      }
      let pricingJsona = await getPricingJsonBySvcId(26975)

      debugger
      // let res = await insertAndUpdate(json,26975)

      let jsonNew = JSON.parse(JSON.stringify(pricingJson))
      let pidKeys = [
        'serviceArea', 'pricing.ranges', 'downtown_areas', 'zones', 'zone2zone.prices', 'vehicleClasses', 'notice_time_rules', 'pricing_schedule_sum', 'specific_date_surcharge', 'hourly_pricing', 'hpd.rules', 'hpd.over'
      ]

      let i = 1
      let parentFleetId = jsonNew.serviceArea?.parent_fleet_id || 0
      for (let path of pidKeys) {
        if (path == 'hourly_pricing') {
          let hourlyPricing = getValueByPath(jsonNew, path);
          if (!hourlyPricing) continue

          let { rules } = hourlyPricing
          if (rules) {
            let j = 1
            for (let rule of rules) {
              rule['pid'] = `${i}.${parentFleetId}.${j}`
              j++
            }
          } else {
            hourlyPricing['pid'] = `${i}.${parentFleetId}.1`
            i++
          }
          continue
        }
        let value = getValueByPath(jsonNew, path);
        if (!value) continue
        let type = Object.prototype.toString.call(value)
        if (type == '[object Object]') {
          value['pid'] = `${i}.${parentFleetId}.1`
        } else {
          let j = 1
          for (let obj of value) {
            obj['pid'] = `${i}.${parentFleetId}.${j}`
            j++
          }
        }
        i++
      }

      diffChange(jsonNew, jsonOld) //
      console.log('diffChangeOrDelete----', diffChangeOrDelete);
      diff(jsonNew, jsonOld) // check new obj delete some key
      console.log('diffAdd----', diffAdd);
    })





    function diffChange(obj1, obj2, keyPath = '') {
      for (let [key, value] of Object.entries(obj1)) {
        if (key == 'pid') continue
        let type = Object.prototype.toString.call(value)
        let currentPath = keyPath ? `${keyPath}.${key}` : key;
        switch (type) {
          case '[object Object]':
            diffChange(value, obj2, currentPath, 'change')
            break
          case '[object Array]':
            diffChange(value, obj2, currentPath, 'change')
            break
          default: //'[object String]' , '[object Number]':
            let nv = getValueByPath(obj2, currentPath);
            if (nv == undefined) {
              diffChangeOrDelete.push(`undefined-->${currentPath}:${value}`)
              break;
            }
            if (nv != value) {
              diffChangeOrDelete.push(`${currentPath}:${nv}-->${currentPath}:${value}`)
            }
            currentPath = ''
            break;
        }
      }
    }
    function diff(obj1, obj2, keyPath = '') {
      for (let [key, value] of Object.entries(obj2)) {
        if (key == 'pid') continue
        let type = Object.prototype.toString.call(value)
        let currentPath = keyPath ? `${keyPath}.${key}` : key;
        switch (type) {
          case '[object Object]':
            diff(obj1, value, currentPath)
            break
          case '[object Array]':
            diff(obj1, value, currentPath)
            break
          default: //'[object String]' , '[object Number]':
            let nv = getValueByPath(obj1, currentPath);
            if (nv == undefined) {
              diffAdd.push(`${currentPath}:${value}-->delete`)
              break;
            }
            currentPath = ''
            break;
        }
      }
    }

    function getValueByPath(currentValue, path) {
      const keys = path.split('.');
      // let currentValue = JSON.parse(JSON.stringify(obj));
      for (let key of keys) {
        if (currentValue && key in currentValue) {
          currentValue = currentValue[key];
        } else {
          return undefined;
        }
      }
      return currentValue;
    }



    //PROD
    // let prodSES = '8JIOKRSCYyWkgmDnsqJ1d0bqNP6U8RSopQfoxVd94V2jgZATfS4bvd1gFSDy4q575A1i42yIpBQ5wLGZLFbWRfnLwlbDX1Mw1ReYkrnnuR6RVdzoeqLlzcwjwfJRO89j'
    // let url = `https://51y9xc7cuh.execute-api.us-east-2.amazonaws.com/upncoming/sql-templates/run?ses=${prodSES}`

    //DEV
    let ses = 'vbrkSAyz6CCAztNt4Pu6HVFdCXquUPHcMwtg6LSZTNfmqrD6A5a3iAuOMZDKUUe9BKSIRMfohJqisplYXlImmlwIFTHMISHtuPKMsH5fl3zZkE3deNQwfLouWDzYGz42'
    let url = `https://jqwys3p5nk.execute-api.us-east-2.amazonaws.com/dev/sql-template/run?ses=${ses}`



    async function getPricingJsonBySvcId(id) {
      // select pricing from service_area_pricing where id = (select service_area_pricing_id from fleet where id = {{svc_id}})
      let d = {
        sql: 134678865,
        version: '1.0',
        svc_id: id
      }

      let res = await fetchData({
        url,
        method: 'POST',
        data: d,
        desc: 'get pricing json_id'
      })

      return JSON.parse(res.pricing)
    }

    async function insertAndUpdate(svcJson, newFleetId) {
      let updateD = {
        sql: 134678780,
        version: '1.0',
        pricing_str: JSON.stringify(svcJson),
        new_fleet_id: newFleetId
      }

      //       insert into service_area_pricing (service_area_id,pricing,effective_at,expire_at) 
      // values  ({{new_fleet_id}},'{{pricing_str}}','2024-04-08 05:05:00','2037-12-31 23:59:59' );
      // update fleet set service_area_pricing_id = last_insert_id() where id = {{new_fleet_id}} limit 1;

      let res = await fetchData({
        url,
        method: 'POST',
        data: updateD,
        desc: 'update json'
      })

      return res
    }

    async function fetchData({
      url = '',
      data = {},
      method = 'GET',
      isShowLoading = true,
      desc = 'abc'
    } = {}) {
      method = method.toUpperCase();
      data['req_id'] = uuid()

      if (method == 'GET') {
        let dataStr = '';
        Object.keys(data).forEach(key => {
          dataStr += key + '=' + data[key] + '&';
        })
        if (dataStr !== '') {
          dataStr = dataStr.substring(0, dataStr.lastIndexOf('&'));
          url = url + '?' + dataStr;
        }
      }
      let requestConfig = {
        // credentials: 'same-origin',
        method,
        headers: {
          'Accept': 'application/json',
          // 'Content-method': 'application/json'
        },
        // mode: "cors", // same-origin，no-cors（default） cores;
        // cache: "force-cache" // default 、 no-store 、 reload 、 no-cache 、 force-cache 、 only-if-cached 
      }

      if (method == 'POST') {
        Object.defineProperty(requestConfig, 'body', {
          value: JSON.stringify(data)
        })
      }
      try {
        const response = await fetch(url, requestConfig);
        const responseJson = await response.json();
        console.log(`--${desc}--success--`, data);
        return responseJson
      } catch (error) {
        console.log(`--${desc}--err--`, data);
        throw new Error(error)
      }
    }


    function uuid() {
      function S4() {
        return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);
      }
      return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4();
    }



    let jsonOld = {
      "currencyCode": "CNY",
      "serviceArea": {
        "name": "nanning",
        "lat": 22.791353405922795,
        "lng": 108.25311325248032,
        "radius": 50000,
        "parent_fleet_id": 27672,
        "id": 28095,
        "parent_fleet_name": "3_elife"
      },
      "airports": [
        "NNG", 'aa'
      ],
      // "countryCode": "CHN",
      // "pricing": {
      //   "ranges": [
      //     {
      //       "seq": 0,
      //       "amount": 8.21,
      //       "currency": "USD",
      //       "distance": 1000,
      //       "from": 1000,
      //       "to": 2000,
      //       "distanceIn": 0,
      //       "per_unit": 1
      //     }
      //   ],
      //   "currency": "USD",
      //   "min_amount": 25.88,
      //   "min_distance": 1000,
      //   "meet_n_greet": 999
      // },
      // "vehicleClasses": [
      //   {
      //     "vehicle_class_id": 1,
      //     "delta_amount": 0,
      //     "percent": 0,
      //     "hourly_percent": 0,
      //     "hourly_delta": 0,
      //     "surcharge_schedule": [
      //       [
      //         {
      //           "from": "00:00",
      //           "to": "02:00",
      //           "break": "false",
      //           "percent": 968,
      //           "ts": 1712809373016
      //         }
      //       ],
      //       [
      //         {
      //           "from": "00:00",
      //           "to": "02:00",
      //           "break": "false",
      //           "percent": 968,
      //           "ts": 1712809373016
      //         }
      //       ],
      //       [
      //         {
      //           "from": "00:00",
      //           "to": "02:00",
      //           "break": "false",
      //           "percent": 968,
      //           "ts": 1712809373016
      //         }
      //       ],
      //       "null",
      //       "null",
      //       "null",
      //       "null"
      //     ],
      //     "percent_appendix": [
      //       {
      //         "field": "pricing.ranges.0",
      //         "delta_amount": -7.21
      //       }
      //     ]
      //   },
      //   {
      //     "vehicle_class_id": 12,
      //     "delta_amount": 0,
      //     "percent": 2,
      //     "hourly_percent": 2,
      //     "hourly_delta": 0,
      //     "percent_appendix": [
      //       {
      //         "field": "hourly_pricing.rules.0.min_amount",
      //         "delta_amount": 1324.99
      //       },
      //       {
      //         "field": "pricing.min_amount",
      //         "delta_amount": -24.68
      //       },
      //       {
      //         "field": "pricing.ranges.0",
      //         "delta_amount": 213.79
      //       },
      //       {
      //         "field": "zones.0.prices.0.p_amt",
      //         "delta_amount": -4.61
      //       },
      //       {
      //         "field": "zones.0.prices.0.d_amt",
      //         "delta_amount": -12.88
      //       },
      //       {
      //         "field": "zones.1.prices.0.p_amt",
      //         "delta_amount": -11.68
      //       },
      //       {
      //         "field": "zones.1.prices.0.d_amt",
      //         "delta_amount": -18.68
      //       }
      //     ]
      //   }
      // ],
      // "date_surcharge_method": "sum",
      // "downtown_areas": {
      //   "area_geometry": [
      //     {
      //       "lat": 23.01725052231879,
      //       "lng": 106.81734911796875
      //     },
      //     {
      //       "lat": 23.38746667128864,
      //       "lng": 107.05917040703125
      //     },
      //     {
      //       "lat": 23.427795359137434,
      //       "lng": 107.51534716484375
      //     },
      //     {
      //       "lat": 23.38664313295705,
      //       "lng": 107.603298825
      //     },
      //     {
      //       "lat": 23.022306265279664,
      //       "lng": 107.66927782890625
      //     },
      //     {
      //       "lat": 22.692015395854128,
      //       "lng": 107.63070361015625
      //     },
      //     {
      //       "lat": 22.651465812901023,
      //       "lng": 107.09212939140625
      //     }
      //   ],
      //   "ranges": [
      //     {
      //       "seq": 0,
      //       "amount": 8.21,
      //       "currency": "USD",
      //       "distance": 1000000,
      //       "from": 1000000,
      //       "to": 2000000,
      //       "distanceIn": 0,
      //       "per_unit": 1
      //     }
      //   ],
      //   "currency": "USD",
      //   "min_amount": 862.55,
      //   "min_distance": 1000000
      // },
      // "hourly_pricing": {
      //   "rules": [
      //     {
      //       "io": 1,
      //       "name": "Rule 1",
      //       "currency": "COP",
      //       "min_amount": 8.21,
      //       "min_duration": 1,
      //       "max_distance": 100,
      //       "zones": [
      //         "serviceArea"
      //       ],
      //       "ranges": [
      //         {
      //           "seq": 0,
      //           "amount": 25.88,
      //           "currency": "USD",
      //           "duration": 1,
      //           "from": 1,
      //           "to": 2
      //         }
      //       ]
      //     },
      //     {
      //       "io": 0,
      //       "name": "Rule 2",
      //       "currency": "COP",
      //       "max_distance": 200,
      //       "min_amount": 17.68,
      //       "min_duration": 1,
      //       "ranges": [
      //         {
      //           "seq": 0,
      //           "amount": 17.68,
      //           "currency": "USD",
      //           "duration": 1,
      //           "from": 1,
      //           "to": 2
      //         }
      //       ],
      //       "zones": [
      //         "serviceArea"
      //       ]
      //     }
      //   ],
      //   "currency": "USD"
      // },
      // "notice_time_rules": [
      //   {
      //     "zones": [
      //       "serviceArea"
      //     ],
      //     "ps": [
      //       {
      //         "vc_ids": [
      //           1
      //         ],
      //         "notice_time": [
      //           {
      //             "percent": 46,
      //             "time": 1440
      //           }
      //         ],
      //         "allowance": 1200
      //       }
      //     ]
      //   }
      // ],
      // "pricing_schedule_sum": [
      //   {
      //     "notice_time_hint": [
      //       [
      //         {
      //           "from": "00:00",
      //           "to": "02:00",
      //           "break": "false",
      //           "percent": 968,
      //           "ts": 1712809373016
      //         }
      //       ],
      //       [
      //         {
      //           "from": "00:00",
      //           "to": "02:00",
      //           "break": "false",
      //           "percent": 968,
      //           "ts": 1712809373016
      //         }
      //       ],
      //       [
      //         {
      //           "from": "00:00",
      //           "to": "02:00",
      //           "break": "false",
      //           "percent": 968,
      //           "ts": 1712809373016
      //         }
      //       ],
      //       "null",
      //       "null",
      //       "null",
      //       "null"
      //     ],
      //     "vehicles": [
      //       1
      //     ]
      //   }
      // ],
      // "specific_date_surcharge": [
      //   {
      //     "from_date": "2024-04-16",
      //     "to_date": "2024-04-24",
      //     "currency": "USD",
      //     "vehicle_classes": [
      //       {
      //         "vehicle_class_ids": [
      //           1
      //         ],
      //         "percent": 0,
      //         "delta_amount": 1
      //       }
      //     ],
      //     "zones": [
      //       "serviceArea"
      //     ],
      //     "name": "Rule 1"
      //   }
      // ],
      // "add_service": {
      //   "is_p": 32.74,
      //   "ts_p": 8.21
      // },
      // "tz": {
      //   "dos": 0,
      //   "ros": 28800,
      //   "tzid": "Asia/Shanghai"
      // },
      // "zone2zone": {
      //   "mac": 0,
      //   "prices": [
      //     {
      //       "name": "NNG-市区",
      //       "from_zone": "NNG机场",
      //       "to_zone": "市区",
      //       "amount": 25.88,
      //       "reverse": 45
      //     }
      //   ]
      // },
      "zones": [
        {
          "lat": 23.180706677963947,
          "lng": 107.5692143266991,
          "name": "NNG机场",
          "p2p": "true",
          "prices": [
            {
              "airport": "NNG",
              "p_amt": 8.21,
              "d_amt": 17.68,
              "currency": "USD",
              "amount": 1.2
            }
          ],
          "radius": 0,
          "polygons": [
            {
              "lat": 23.1453894174652,
              "lng": 107.29705856498035
            },
            {
              "lat": 23.36774707465213,
              "lng": 107.58831833060535
            },
            {
              "lat": 23.440844658426546,
              "lng": 107.80828903373035
            },
            {
              "lat": 23.17064214492708,
              "lng": 107.84137008841785
            },
            {
              "lat": 22.920568697501345,
              "lng": 107.73687790091785
            },
            {
              "lat": 22.93574621190943,
              "lng": 107.50592086966785
            }
          ],
          "p2p_t": "NNG.p"
        },
        {
          "lat": 22.540494629220326,
          "lng": 109.15117637304155,
          "name": "市区",
          "p2p": "false",
          "prices": [
            {
              "airport": "NNG",
              "p_amt": 17.68,
              "d_amt": 25.88,
              "currency": "USD",
              "amount": 2.4
            }
          ],
          "radius": 16666.666666666668
        }
      ],
      // "service_area_pricing_id": 5663,
      // "req_id": "0f3bae6d-875c-4c57-8f02-17cd059b991b"
    }


  </script>
</body>

</html>